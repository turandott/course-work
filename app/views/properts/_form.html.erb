<%= form_with(model: propert, local: true) do |form| %>
  <%= render "layouts/validation", item: @propert %>

  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, class:"form-control", required: true %>
  </div>

  <div class="form-group">
    <%= form.label :address %>
    <%= form.text_field :address, class:"form-control", required: true %>
  </div>

  <div class="form-group">
    <%= form.label :price,"Total Price (for sale) / Monthly Price (rental)" %>
    <%= form.number_field :price, class:"form-control", required: true %>
  </div>

  <div class="form-group">
    <%= form.label :rooms %>
    <%= form.number_field :rooms, class:"form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :bathrooms %>
    <%= form.number_field :bathrooms, class:"form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :parking_spaces %>
    <%= form.number_field :parking_spaces, class:"form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :for_sale %>
    <%= form.select :for_sale, options_for_select({"Yes" => true, "No" => false }, @propert.for_sale), class:"form-control" %>
  </div>

  <div class="form-group">
    <% opts = @propert.for_sale? ? {"Available" => "available", "Sold" => "sold"} : {"Available" => "available", "Leased" => "leased"} %>
    <%= form.label :status %>
    <%= form.select :status, options_for_select(opts, @propert.status), class: "form-control"  %>
  </div>

  <div class="form-group">
    <%= form.label :available_date %>
    <%= form.date_field :available_date, class:"form-control",required: true %>
  </div>


  <div class="form-group">
    <%= form.label :details %>
    <%= form.text_field :details, class:"form-control" %>
  </div>
<br>
  <div class="form-group">
    <%#= form.label :photo %>
    <%#= form.file_field :photo, class: "form-control" %>
    <%#= form.hidden_field :photo_cache %>

    <%# if @propert.photo.present? %>
    <%#= image_tag @propert.photo.thumb.url, class: "mt-4" %>
      <%# end %>

    <%= form.label :photo %>
    <%= form.file_field :photo %>
    <% if @propert.photo.present? %>
    <%= image_tag (@propert.photo.variant(resize_to_limit: [200, 200])), class: "mt-4" %>
      <% end %>
  </div>

  <div class="actions">
    <%= form.submit "Save", class:"btn btn btn-success"%>
  </div>
<% end %>
